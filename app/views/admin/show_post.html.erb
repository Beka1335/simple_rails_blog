<div class="container">
  <h1 class="text-center">Administrator</h1>
  <%= render "admin/nav_links" %>
  <div class="text-center mt-5">
    <div class="btn-group">
      <%= button_to "Edit", edit_post_path(@post), method: :get , class:"btn btn-outline-warning", style: "margin: 5px" %>
      <%= button_to "Delete", @post, method: :delete, data: { confirm: "Are you sure?" }, class:"btn btn-outline-danger", style: "margin: 5px" %>
     
      <%if @post.approve %>
         <%= button_to "Back", admin_posts_path, method: :get, class: "btn btn-outline-primary", style: "margin: 5px" %>
      <%else current_user.admin? %>
        <%= button_to "Approve", approve_post_path(@post), method: :post , data: { turbo_method: :post }, class: "btn btn-outline-success", style: "margin: 5px" %>
      <%end%>
    </div>
  </div>
  <div class="row mt-1">
    <p>
      <strong>Title:</strong> <%= @post.title %>
    </p>
  </div>
  <div class="row mt-1">
    <p>
      <strong>Views:</strong> <%= @post.views %>
    </p>
  </div>
  <div class="row mt-1">
    <p><strong>Author:</strong>
      <%= "#{@post.user.email} | #{@post.user.full_name} | #{pluralize(@post.user.views, "View")}" %>
    </p>
  </div>
  <div class="row mt-1">
    <strong>Body:</strong> <%= @post.body %>
  </div>
  <div class="row mt-1">
    <strong><%= pluralize(@post.comments.count, "Comment") %>:</strong>
    <% @post.comments.each do |comment| %>
      <div class="row mt-1">
        <%= comment.user.full_name %>
        <%= comment.body %>
      </div>
    <% end %>
  </div>
</div>
